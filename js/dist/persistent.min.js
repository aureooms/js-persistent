"use strict";var _slicedToArray=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var e=function(e,r){function n(t,e){var n=function(t){this.tree=t};return n.prototype.empty=function(){return this.tree.empty()},n.prototype.maxKey=n.prototype.measure=function(){return this.tree.measure()},n.prototype.insert=n.prototype.push=function(t){return new n(this.tree.push(t))},n.prototype.extractMax=function(){var t=this.measure(),r=this.tree.splitTree(function(e){return e>=t},e.zero());return[r.middle,new n(r.left.concat(r.right))]},n.prototype.insertValues=function(t){var e=this,n=!0,o=!1,i=r;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done);n=!0){var s=u.value;e=e.insert(s)}}catch(a){o=!0,i=a}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return e},{empty:function(){return new n(t(e))},from:function(r){return new n(t(e)).insertValues(r)}}}function o(e,r){var n=function(t,e){var n=_slicedToArray(e,2),o=(n[0],n[1]);return r.b.measure(t)<=o},o=function(t,e){var n=_slicedToArray(e,2),o=n[0];n[1];return o>r.a.measure(t)},u=regeneratorRuntime.mark(function a(t,e){var r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=e.dropUntil(function(e){return n(t)}),!r.empty()){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,r.head();case 5:return o.delegateYield(a(t,r.tail()),"t0",6);case 6:case"end":return o.stop()}},a,this)}),p=function(t,e){this.low=t,this.high=e},s=function(t){this.tree=t};return s.prototype.add=function(t,e){return new s(this.tree.push(new p(t,e)))},s.prototype.empty=function(){return this.tree.empty()},s.prototype.measure=function(){return this.tree.measure()},s.prototype[Symbol.iterator]=function(){return this.tree[Symbol.iterator]()},s.prototype.intervalSearch=function(e){if(!n(e.low,t.measure()))return null;var o=t.tree.splitTree(function(t){return n(i,t)},r.zero()),u=o.middle;return u.low>e.high?null:u},s.prototype.intervalMatch=function(t){return u(t.low,this.tree.takeUntil(function(e){return o(t.high)}))},{empty:function(){return new s(e(r))},from:function(t){return new s(e(r)).append(t)}}}function u(t,e){var n=function(t){this.tree=t};return n.prototype.empty=function(){return this.tree.empty()},n.prototype.measure=function(){return this.tree.measure()},n.prototype.min=n.prototype.head=function(){return this.tree.head()},n.prototype.tail=function(){return new n(this.tree.tail())},n.prototype.key=n.prototype.last=function(){return this.tree.last()},n.prototype.init=function(){return new n(this.tree.init())},n.prototype.takeUntil=function(t){return new n(this.tree.takeUntil(t))},n.prototype.dropUntil=function(t){return new n(this.tree.dropUntil(t))},n.prototype[Symbol.iterator]=function(){return this.tree[Symbol.iterator]()},n.prototype.split=function(t){var e=this.tree.split(t),r=_slicedToArray(e,2),o=r[0],i=r[1];return[new n(o),new n(i)]},n.prototype.partition=function(t){var r=e.measure(t);return this.split(function(t){return t>=r})},n.prototype.insert=function(t){var r=e.measure(t),o=this.tree.split(function(t){return t>=r}),i=_slicedToArray(o,2),u=i[0],p=i[1];return new n(u.push(t).concat(p))},n.prototype.deleteAll=function(t){var r=e.measure(t),o=this.tree.split(function(t){return t>=r}),i=_slicedToArray(o,2),u=i[0],p=i[1],s=p.split(function(t){return t>r}),a=_slicedToArray(s,2),c=(a[0],a[1]);return new n(u.concat(c))},n.prototype.merge=function(t){if(t.empty())return this;var r=t.head(),o=e.measure(r),i=this.split(function(t){return t>o}),u=_slicedToArray(i,2),p=u[0],s=u[1];return new n(p.tree.push(r).concat(s.merge(t.tail()).tree))},n.prototype.insertValues=function(t){var e=this,n=!0,o=!1,i=r;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done);n=!0){var s=u.value;e=e.insert(s)}}catch(a){o=!0,i=a}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return e},{empty:function(){return new n(t(e))},from:function(r){return new n(t(e)).insertValues(r)}}}function p(t,e){var r=function(t){this.tree=t};return r.prototype.empty=function(){return this.tree.empty()},r.prototype.measure=r.prototype.len=function(){return this.tree.measure()},r.prototype.head=function(){return this.tree.head()},r.prototype.tail=function(){return new r(this.tree.tail())},r.prototype.last=function(){return this.tree.last()},r.prototype.init=function(){return new r(this.tree.init())},r.prototype.cons=function(t){return new r(this.tree.cons(t))},r.prototype.push=function(t){return new r(this.tree.push(t))},r.prototype.append=function(t){return new r(this.tree.append(t))},r.prototype.prepend=function(t){return new r(this.tree.prepend(t))},r.prototype.concat=function(t){return new r(this.tree.concat(t.tree))},r.prototype.takeUntil=function(t){return new r(this.tree.takeUntil(t))},r.prototype.dropUntil=function(t){return new r(this.tree.dropUntil(t))},r.prototype.set=function(t,n){if(0>t||t>=this.len())throw new Error("wrong index '"+t+"'");var o=this.tree.splitTree(function(e){return e>t},e.zero());return new r(o.left.push(n).concat(o.right))},r.prototype.get=function(t){if(0>t||t>=this.len())throw new Error("wrong index '"+t+"'");return this.tree.splitTree(function(e){return e>t},e.zero()).middle},r.prototype[Symbol.iterator]=function(){return this.tree[Symbol.iterator]()},r.prototype.split=function(t){var e=this.tree.split(t),n=_slicedToArray(e,2),o=n[0],i=n[1];return[new r(o),new r(i)]},r.prototype.splitAt=function(t){return this.split(function(e){return e>t})},{empty:function(){return new r(t(e))},from:function(n){return new r(t(e)).append(n)}}}return e.heap=n,e.intervaltree=o,e.ordseq=u,e.seq=p,e};"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define("aureooms-js-persistent",[],function(){return e({})}):"object"==typeof window&&"object"==typeof window.document?e(window.persistent={}):console.error("unable to detect type of module to define for aureooms-js-persistent")}();
//# sourceMappingURL=js/dist/persistent.js.map