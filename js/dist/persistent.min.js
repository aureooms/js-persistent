"use strict";var _slicedToArray=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var t=function(t,e){function r(t,r){var n=function(t){this.tree=t};return n.prototype.empty=function(){return this.tree.empty()},n.prototype.maxKey=n.prototype.measure=function(){return this.tree.measure()},n.prototype.insert=n.prototype.push=function(t){return new n(this.tree.push(t))},n.prototype.extractMax=function(){var t=this.measure(),e=this.tree.splitTree(function(e){return e>=t},r.zero());return[e.middle,new n(e.left.concat(e.right))]},n.prototype.insertValues=function(t){var r=this,n=!0,o=!1,i=e;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done);n=!0){var s=u.value;r=r.insert(s)}}catch(a){o=!0,i=a}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return r},{empty:function(){return new n(t(r))},from:function(e){return new n(t(r)).insertValues(e)}}}function n(t,r){var n=function(t,e){var r=_slicedToArray(e,2),n=(r[0],r[1]);return n>=t},o=function(t,e){var r=_slicedToArray(e,2),n=r[0];r[1];return n>t},i=regeneratorRuntime.mark(function p(t,e){var r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=e.dropUntil(function(e){return n(t,e)}),!r.empty()){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,r.head();case 5:return o.delegateYield(p(t,r.tail()),"t0",6);case 6:case"end":return o.stop()}},p,this)}),u=function(t){this.tree=t};return u.prototype.empty=function(){return this.tree.empty()},u.prototype.measure=function(){return this.tree.measure()},u.prototype.head=function(){return this.tree.head()},u.prototype.tail=function(){return new u(this.tree.tail())},u.prototype.last=function(){return this.tree.last()},u.prototype.init=function(){return new u(this.tree.init())},u.prototype.takeUntil=function(t){return new u(this.tree.takeUntil(t))},u.prototype.dropUntil=function(t){return new u(this.tree.dropUntil(t))},u.prototype.split=function(t){var e=this.tree.split(t),r=_slicedToArray(e,2),n=r[0],o=r[1];return[new u(n),new u(o)]},u.prototype[Symbol.iterator]=function(){return this.tree[Symbol.iterator]()},u.prototype.insert=function(t){var e=r.measure(t)[0],n=this.tree.split(function(t){return t[0]>=e}),o=_slicedToArray(n,2),i=o[0],p=o[1];return new u(i.push(t).concat(p))},u.prototype.merge=function(t){if(t.empty())return this;var e=t.head(),n=r.measure(e)[0],o=this.split(function(t){return t[0]>n}),i=_slicedToArray(o,2),p=i[0],s=i[1];return new u(p.tree.push(e).concat(s.merge(t.tail()).tree))},u.prototype.insertValues=function(t){var r=this,n=!0,o=!1,i=e;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done);n=!0){var s=u.value;r=r.insert(s)}}catch(a){o=!0,i=a}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return r},u.prototype.intervalSearch=function(t){if(!n(t[0],this.measure()))return null;var e=r.measure(t)[0],o=this.tree.splitTree(function(t){return n(e,t)},r.zero()),i=o.middle;return i[0]>t[1]?null:i},u.prototype.intervalMatch=function(t){var e=r.measure(t)[1];return i(t[0],this.tree.takeUntil(function(t){return o(e,t)}))},{empty:function(){return new u(t(r))},from:function(e){return new u(t(r)).insertValues(e)}}}function o(t,r){var n=function(t){this.tree=t};return n.prototype.empty=function(){return this.tree.empty()},n.prototype.measure=function(){return this.tree.measure()},n.prototype.min=n.prototype.head=function(){return this.tree.head()},n.prototype.tail=function(){return new n(this.tree.tail())},n.prototype.max=n.prototype.last=function(){return this.tree.last()},n.prototype.init=function(){return new n(this.tree.init())},n.prototype.takeUntil=function(t){return new n(this.tree.takeUntil(t))},n.prototype.dropUntil=function(t){return new n(this.tree.dropUntil(t))},n.prototype[Symbol.iterator]=function(){return this.tree[Symbol.iterator]()},n.prototype.split=function(t){var e=this.tree.split(t),r=_slicedToArray(e,2),o=r[0],i=r[1];return[new n(o),new n(i)]},n.prototype.partition=function(t){var e=r.measure(t);return this.split(function(t){return t>=e})},n.prototype.insert=function(t){var e=r.measure(t),o=this.tree.split(function(t){return t>=e}),i=_slicedToArray(o,2),u=i[0],p=i[1];return new n(u.push(t).concat(p))},n.prototype.deleteAll=function(t){var e=r.measure(t),o=this.tree.split(function(t){return t>=e}),i=_slicedToArray(o,2),u=i[0],p=i[1],s=p.split(function(t){return t>e}),a=_slicedToArray(s,2),c=(a[0],a[1]);return new n(u.concat(c))},n.prototype.merge=function(t){if(t.empty())return this;var e=t.head(),o=r.measure(e),i=this.split(function(t){return t>o}),u=_slicedToArray(i,2),p=u[0],s=u[1];return new n(p.tree.push(e).concat(s.merge(t.tail()).tree))},n.prototype.insertValues=function(t){var r=this,n=!0,o=!1,i=e;try{for(var u,p=t[Symbol.iterator]();!(n=(u=p.next()).done);n=!0){var s=u.value;r=r.insert(s)}}catch(a){o=!0,i=a}finally{try{!n&&p["return"]&&p["return"]()}finally{if(o)throw i}}return r},{empty:function(){return new n(t(r))},from:function(e){return new n(t(r)).insertValues(e)}}}function i(t,e){var r=function(t){this.tree=t};return r.prototype.empty=function(){return this.tree.empty()},r.prototype.measure=r.prototype.len=function(){return this.tree.measure()},r.prototype.head=function(){return this.tree.head()},r.prototype.tail=function(){return new r(this.tree.tail())},r.prototype.last=function(){return this.tree.last()},r.prototype.init=function(){return new r(this.tree.init())},r.prototype.cons=function(t){return new r(this.tree.cons(t))},r.prototype.push=function(t){return new r(this.tree.push(t))},r.prototype.append=function(t){return new r(this.tree.append(t))},r.prototype.prepend=function(t){return new r(this.tree.prepend(t))},r.prototype.concat=function(t){return new r(this.tree.concat(t.tree))},r.prototype.takeUntil=function(t){return new r(this.tree.takeUntil(t))},r.prototype.dropUntil=function(t){return new r(this.tree.dropUntil(t))},r.prototype.set=function(t,n){if(0>t||t>=this.len())throw new Error("wrong index '"+t+"'");var o=this.tree.splitTree(function(e){return e>t},e.zero());return new r(o.left.push(n).concat(o.right))},r.prototype.get=function(t){if(0>t||t>=this.len())throw new Error("wrong index '"+t+"'");return this.tree.splitTree(function(e){return e>t},e.zero()).middle},r.prototype[Symbol.iterator]=function(){return this.tree[Symbol.iterator]()},r.prototype.split=function(t){var e=this.tree.split(t),n=_slicedToArray(e,2),o=n[0],i=n[1];return[new r(o),new r(i)]},r.prototype.splitAt=function(t){return this.split(function(e){return e>t})},{empty:function(){return new r(t(e))},from:function(n){return new r(t(e)).append(n)}}}return t.heap=r,t.intervaltree=n,t.ordseq=o,t.seq=i,t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-persistent",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.persistent={}):console.error("unable to detect type of module to define for aureooms-js-persistent")}();
//# sourceMappingURL=js/dist/persistent.js.map